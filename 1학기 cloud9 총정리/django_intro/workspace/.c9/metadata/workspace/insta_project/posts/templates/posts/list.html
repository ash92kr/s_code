{"changed":false,"filter":false,"title":"list.html","tooltip":"/insta_project/posts/templates/posts/list.html","value":"{% extends 'base.html' %}\n\n{% block content%}\n\n<h1>LIST</h1>\n\n<div class=\"d-flex flex-wrap justify-content-center\">\n    {% for post in posts %}\n        {% include 'posts/_post.html' %}\n    {% endfor %}\n</div>\n\n    <!--<a href=\"{# url 'posts:create' #}\">새 글 쓰기</a>-->\n\n<script>\n    // 좋아요 버튼들을 모두 선택\n    const likeButtons = document.querySelectorAll('.like-button')\n    likeButtons.forEach( button => {\n        // 각각의 버튼에 클릭 이벤트 설정 \n        button.addEventListener('click', function (event) { // eventlistener에서는 function 사용할 것\n            // console.log(event)\n            // 좋아요 버튼의 해당 게시글 id\n            const postId = event.target.dataset.id   // event 인자의 게시글 번호 가져오기\n            // 좋아요 요청 전송\n            axios.get(`/posts/${postId}/like/`)   // 변수를 넣을 때는 ``(back stick) 사용할 것\n                .then( response => {\n                    document.querySelector(`#like-count-${postId}`).innerText = response.data.count \n                    // 좋아요가 눌린상태인지 아닌지 눌린 상태에 따라 아이콘 class 변경\n                    // if (좋아요인 상태) {\n                    if (response.data.liked) {\n                        event.target.classList.remove('far')\n                        event.target.classList.add('fas')\n                    } else {\n                        event.target.classList.remove('fas')\n                        event.target.classList.add('far')\n                    }\n                })\n            })\n        })\n</script>\n\n{% endblock %}\n\n\n\n","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":180,"scrollleft":116.494140625,"selection":{"start":{"row":37,"column":14},"end":{"row":37,"column":14},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":9,"state":"start","mode":"ace/mode/html"}},"timestamp":1556782055150}
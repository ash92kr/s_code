{"changed":true,"filter":false,"title":"_post.html","tooltip":"/insta_project/posts/templates/posts/_post.html","value":"{% load posts_templatetag %}\n<div class=\"col-10 my-3\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n          <!--<h5 class=\"card-text\">{{ post.user }}</h5>-->\n          <h5 class=\"card-text\">\n              <a href=\"{% url 'people' post.user.username %}\" class=\"card-link\">{{ post.user }}</a>\n          </h5>\n      </div>\n      <!--{# if post.image #}-->\n        <!--<img src=\"{{ post.image.url }}\" class=\"card-img-top\" alt=\"{{ post.image }}\">-->\n      {% if post.image_set %}   <!--이미지 셋이 있으면-->\n        <div id=\"post{{ post.pk }}\" class=\"carousel slide\" data-ride=\"carousel\">  <!--이미지마다 id가 다름-->\n            <div class=\"carousel-inner\">\n                {% for image in post.image_set.all %}  <!--첫 번째 이미지일 때만 활성화되어야 함-->\n                    <div class=\"carousel-item {% if forloop.counter == 1 %} active {% endif %}\">\n                      <img src=\"{{ image.file.url }}\" class=\"d-block w-100\" alt=\"{{ image.file }}\">\n                    </div>     <!--이미지 주소 기억-->\n                {% endfor %}\n            </div>                             <!--다음 사진이 나온다-->\n            <a class=\"carousel-control-prev\" href=\"#post{{ post.pk }}\" role=\"button\" data-slide=\"prev\">\n                <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                <span class=\"sr-only\">Previous</span>\n            </a>\n            <a class=\"carousel-control-next\" href=\"#post{{ post.pk }}\" role=\"button\" data-slide=\"next\">\n                <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                <span class=\"sr-only\">Next</span>\n            </a>\n        </div>\n        {% else %}\n        <!--<img src=\"#\" class=\"card-img-top\" alt=\"NO_IMAGE\">-->\n        <img src=\"#\" alt=\"no-image\">\n        {% endif %}\n        <div class=\"card-body\">\n            <!--좋아요 버튼-->\n            <!--{# if user in post.like_users.all #}-->\n            <i class=\"{% if user in post.like_users.all %} fas {% else %} far {% endif %} fa-heart fa-lg like-button\" data-id=\"{{ post.pk }}\" style=\"color:crimson\"></i>\n            <!--{# else #}-->\n            <!--    <i class=\"fas fa-heart fa-lg like-button\" data-id=\"{{ post.pk }}\" style=\"color:black\"></i>-->\n            <!--{# endif #}-->\n            \n            <span id=\"like-count-{{ post.pk }}\" class=\"card-text\">{{ post.like_users.count }}</span>명이 좋아합니다.  <!--처음에 숫자를 보여주기 위해 넣음-->\n            <!--<p class=\"card-text\">{{ post.like_users.count }}</p>명이 좋아합니다.-->\n            <!--<p class=\"card-text\">{{ post.content }}</p>-->\n            <p class=\"card-text\">{{ post|hashtag_link|safe }}</p>\n            {% if request.user == post.user %}\n                <a href=\"{% url 'posts:update' post.pk %}\" class=\"btn btn-warning\">수정</a>\n                <form action=\"{% url 'posts:delete' post.pk %}\" method=\"POST\" style=\"display:inline;\">  <!--삭제는 action이 필요하다-->\n                    {% csrf_token %}\n                    <input type=\"submit\" value=\"삭제\" class=\"btn btn-danger\"/>\n                </form>\n            {% endif %}\n            <hr>\n            {% for comment in post.comment_set.all %}\n                <div class=\"card-text\"><strong>{{ comment.user }}</strong>{{ comment.content }}</p>\n                    {% if comment.user == request.user %}\n                        <form action=\"{url 'posts:comment_delete' post.pk comment.pk %}\" method=\"POST\" style=\"display:inline;\">\n                            {% csrf_token %}\n                            <button type=\"submit\" class=\"border-0\"><i class=\"fas fa-times\"></i></button>\n                        </form>\n                    {% endif %}\n                </div>\n            {% empty %}\n                <p class=\"card-text\">댓글이 없습니다.</p>\n            {% endfor %}\n        <div class=\"card-footer\">\n            {% if user.is_authenticated %}\n                <form action=\"{% url 'posts:comment_create' post.pk %}\" method=\"POST\">\n                    {% csrf_token %}\n                    {{ comment_form }}\n                    <input type=\"submit\" value=\"작성\" class=\"btn-light\">\n                </form>\n            {% else %}\n                <a href=\"{% url 'accounts:login' %}\" class=\"card-link\">댓글을 작성하려면 로그인하세요.</a>\n            {% endif %}\n        </div>\n    </div>\n</div>","undoManager":{"mark":-2,"position":1,"stack":[[{"start":{"row":36,"column":168},"end":{"row":36,"column":169},"action":"insert","lines":["0"],"id":2}],[{"start":{"row":36,"column":168},"end":{"row":36,"column":169},"action":"remove","lines":["0"],"id":3}]]},"ace":{"folds":[],"scrolltop":480,"scrollleft":0,"selection":{"start":{"row":42,"column":0},"end":{"row":42,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":9,"state":"start","mode":"ace/mode/html"}},"timestamp":1556780724119}